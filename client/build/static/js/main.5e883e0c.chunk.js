(this["webpackJsonptwitter-me"]=this["webpackJsonptwitter-me"]||[]).push([[0],{23:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),r=n.n(o),i=n(16),s=n.n(i),j=(n(23),n(4)),a=n(8),u=n(2);function l(e){var t=e.login,n=Object(u.g)();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:function(){t(!0),n.push("/home")},children:"Login"}),Object(c.jsx)("button",{onClick:function(){fetch("/api/sign-in-with-twitter").then((function(e){return e.text()})).then((function(e){window.location=e}))},children:"Sign in with Twitter"})]})}n(29);function h(e){return Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)(a.b,{to:"/home",activeClassName:"active",children:"home"})}),Object(c.jsx)("li",{children:Object(c.jsx)(a.b,{to:"/profile",activeClassName:"active",children:"profile"})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:function(){alert("model pop up")},children:"Tweet"})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:e.logout,children:"Logout"})})]})}function b(e){var t=Object(o.useState)([]),n=Object(j.a)(t,2),r=n[0],i=n[1],s=Object(o.useState)([]),a=Object(j.a)(s,2),u=a[0],l=a[1],h=Object(o.useState)(""),b=Object(j.a)(h,2),f=b[0],O=b[1],d=Object(o.useState)(!1),g=Object(j.a)(d,2),p=g[0],x=g[1];return Object(o.useEffect)((function(){fetch("/api/trends").then((function(e){return e.json()})).then((function(e){e.length>0&&(console.log(e[0].trends),i(e[0].trends))})).catch((function(e){return console.error(e)}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",placeholder:"search twitter...",onChange:function(e){e.preventDefault();var t=e.target.value;O(t)},value:f}),Object(c.jsx)("button",{onClick:function(){fetch("/api/search?q=".concat(f)).then((function(e){return e.json()})).then((function(e){x(!0),l(e.statuses),O("")})).catch((function(e){return console.log(e)}))},children:"Search"}),Object(c.jsx)("ul",{children:p?u.map((function(e){return Object(c.jsx)("li",{children:e.text},e.id)})):r.map((function(e,t){return Object(c.jsx)("li",{children:e.name},t)}))})]})}function f(e){var t=Object(o.useState)(""),n=Object(j.a)(t,2),r=(n[0],n[1],Object(o.useState)([])),i=Object(j.a)(r,2),s=i[0],a=i[1],u=Object(o.useState)(""),l=Object(j.a)(u,2),f=l[0],O=l[1],d=e.setIsLoggedIn;function g(){fetch("/api/home-timeline").then((function(e){return e.json()})).then((function(e){if(e.errors)return alert(e.errors[0].message),void console.error(e.errors[0].message);e&&a(e)})).catch((function(e){return console.error(e)}))}return Object(o.useEffect)((function(){g()}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(h,{logout:function(){return d(!1)}}),Object(c.jsx)("h1",{children:"Home"}),Object(c.jsx)("input",{placeholder:"what's happening?",onChange:function(e){e.preventDefault();var t=e.target.value;O(t)},value:f}),Object(c.jsx)("button",{onClick:function(){fetch("/api/status/update?status=".concat(f)).then((function(e){e.ok&&(g(),O(""))})).catch((function(e){return console.error(e)}))},children:"Tweet"}),Object(c.jsx)("ul",{children:s.map((function(e){return Object(c.jsx)("li",{children:e.text},e.id)}))}),Object(c.jsx)(b,{})]})}function O(e){var t=Object(o.useState)(""),n=Object(j.a)(t,2),r=n[0],i=n[1],s=e.setIsLoggedIn;return Object(o.useEffect)((function(){fetch("/api/profile-picture").then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.error(e)}))}),[]),Object(o.useEffect)((function(){fetch("api/profile-info").then((function(e){return console.log(e)}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(h,{logout:function(){return s(!1)}}),Object(c.jsx)("h1",{children:"Profile"}),Object(c.jsx)("p",{children:"Banner"}),Object(c.jsx)("img",{src:r,alt:"profile-pic"}),Object(c.jsx)("button",{onClick:function(){alert("modal pop up")},children:"Edit profile"}),Object(c.jsx)("p",{children:Object(c.jsx)("strong",{children:"Name"})}),Object(c.jsx)("p",{children:"Tweet Handler"}),Object(c.jsx)("p",{children:"Bio"}),Object(c.jsx)("p",{children:"Date Joined"}),Object(c.jsx)("p",{children:"Following"}),Object(c.jsx)("p",{children:"Followers"}),Object(c.jsx)("ul",{}),Object(c.jsx)(b,{})]})}function d(e){var t=e.children,n=e.isLoggedIn;return Object(c.jsx)(u.b,{render:function(e){var o=e.location;return n?t:Object(c.jsx)(u.a,{to:{pathname:"/",state:{from:o}}})}})}function g(e){var t=Object(u.h)(),n=Object(u.g)(),r=new URLSearchParams(t.search),i=r.get("oauth_token"),s=r.get("oauth_verifier");return Object(o.useEffect)((function(){fetch("/api/access-token?oauth_token=".concat(i,"&oauth_verifier=").concat(s)).then((function(e){return e.json()})).then((function(e){for(var t in e&&0===Object.keys(e).length&&(alert("Something went wrong. Do not press the reload putting while on this page"),console.error("Response object is empty. This means that the user reloaded the get-credentials page \n        or something went wrong with the signing process"),console.log("response object",e),n.push("/")),e)localStorage.setItem(t,e[t])})).then((function(){e.login(!0),n.push("/home")})).catch((function(e){return console.log("Network error: ".concat(e))}))}),[i,s]),Object(c.jsx)("h1",{children:"Loading your profile..."})}n(30);var p=function(){var e=Object(o.useState)((function(){return Boolean(localStorage.getItem("screen_name"))})),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(c.jsx)(a.a,{children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{exact:!0,path:"/",children:Object(c.jsx)(l,{login:r})}),Object(c.jsx)(u.b,{exact:!0,path:"/get-credentials",children:Object(c.jsx)(g,{login:r})}),Object(c.jsx)(d,{exact:!0,path:"/home",isLoggedIn:n,children:Object(c.jsx)(f,{setIsLoggedIn:r})}),Object(c.jsx)(d,{exact:!0,path:"/profile",isLoggedIn:n,children:Object(c.jsx)(O,{setIsLoggedIn:r})})]})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),r(e),i(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root")),x()}},[[31,1,2]]]);
//# sourceMappingURL=main.5e883e0c.chunk.js.map