(this["webpackJsonptwitter-me"]=this["webpackJsonptwitter-me"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),s=n.n(i),r=n(16),o=n.n(r),a=(n(23),n(2)),l=n(8),j=n(3);n(24),n(25);function u(e){var t=e.classes,n=e.children,i=e.click;return Object(c.jsx)("button",{className:"button ".concat(t),onClick:i,children:n})}var h=n.p+"static/media/TwitterLogoWhite.27cda7bd.png",b=n.p+"static/media/TwitterLogoBlue.f963dcac.png";function d(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("img",{src:h,alt:"",className:"twitter-logo-main"}),Object(c.jsxs)("div",{className:"login-container",children:[Object(c.jsx)("div",{className:"twitter-login-image-container",children:Object(c.jsx)("img",{src:"https://abs.twimg.com/sticky/illustrations/lohp_en_1302x955.png",alt:"",className:"twitter-login-image"})}),Object(c.jsx)("div",{className:"twitter-login-welcome",children:Object(c.jsxs)("div",{className:"login",children:[Object(c.jsx)("img",{src:b,alt:"",className:"twitter-logo-small"}),Object(c.jsx)("h1",{className:"twitter-login-header",children:"Happening Now"}),Object(c.jsx)("h4",{children:"Join Twitter Today."}),Object(c.jsx)("p",{className:"sign-up-notice",children:"*You will be taken to the actual Twitter website to make your account. You will then have to navigate back to this site to sign in with Twitter.*"}),Object(c.jsx)(u,{classes:"large dark",click:function(){window.open("https://mobile.twitter.com/i/flow/signup")},children:"Sign Up"}),Object(c.jsx)(u,{classes:"large light",click:function(){fetch("/api/sign-in-with-twitter").then((function(e){return e.text()})).then((function(e){window.location=e}))},children:"Sign in with Twitter"})]})})]})]})}n(26);function f(e){return e.show?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{onClick:e.close,id:"modal-backdrop",className:"modal",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("button",{onClick:e.close,id:"modal-close-button",children:"Close"}),e.children]})})}):null}n(27);function O(e){var t=e.getTweets,n=e.showModal,s=Object(i.useState)(""),r=Object(a.a)(s,2),o=r[0],l=r[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{placeholder:"what's happening?",onChange:function(e){e.preventDefault();var t=e.target.value;l(t)},value:o}),Object(c.jsx)("button",{onClick:function(){fetch("/api/status/update?status=".concat(o)).then((function(e){e.ok&&(t(),l(""))})).catch((function(e){alert("There was the following network error ".concat(e)),console.error(e)})).finally((function(){return n(!1)}))},children:"Tweet"})]})}n(28);function g(e){var t=e.getTweets,n=Object(i.useState)(!1),s=Object(a.a)(n,2),r=s[0],o=s[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(f,{show:r,close:function(e){var t="modal-backdrop"===e.target.id,n="modal-close-button"===e.target.id;(t||n)&&o(!1)},children:Object(c.jsx)(O,{getTweets:t,showModal:o})}),Object(c.jsxs)("ul",{className:"nav-bar-items",children:[Object(c.jsx)("li",{className:"nav-bar-item logo-container",children:Object(c.jsx)(l.b,{to:"/home",children:Object(c.jsx)("img",{src:b,className:"logo"})})}),Object(c.jsx)("li",{className:"nav-bar-item",children:Object(c.jsxs)(l.c,{to:"/home",activeClassName:"active",className:"link",children:[Object(c.jsx)("span",{className:"material-icons icon",children:"home"}),Object(c.jsx)("p",{className:"text",children:"Home"})]})}),Object(c.jsx)("li",{className:"nav-bar-item",children:Object(c.jsxs)(l.c,{to:"/profile",activeClassName:"active",className:"link",children:[Object(c.jsx)("span",{className:"material-icons icon",children:"perm_identity"}),Object(c.jsx)("p",{className:"text",children:"Profile"})]})}),Object(c.jsx)("li",{children:Object(c.jsx)(u,{classes:"medium dark",click:function(){o(!0)},children:"Tweet"})}),Object(c.jsx)("li",{children:Object(c.jsx)(u,{classes:"medium light",click:e.logout,children:"Logout"})})]})]})}n(34);var m=n(40);n(35);function x(e){var t=e.tweet,n=e.search,i=(t.tweet_volume/1e3).toFixed(1);return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("li",{className:"trending-tweet",onClick:function(){n(t.name.replace("#",""))},children:[Object(c.jsx)("p",{className:"trending-info",children:"Trending - USA"}),Object(c.jsx)("p",{className:"trending-tweet-text",children:t.name}),Object(c.jsxs)("p",{className:"trending-info",children:[i,"k Tweets"]})]})})}function p(e){var t=e.tweets,n=e.search,i=t.map((function(e){return Object(c.jsx)(x,{tweet:e,search:n},Object(m.a)())}));return Object(c.jsxs)("ul",{className:"trending-tweets-list",children:[Object(c.jsx)("li",{className:"trending-top",children:Object(c.jsx)("h3",{children:"What's happening"})}),i,Object(c.jsx)("li",{className:"trending-bottom"})]})}n(36);function w(e){var t=Object(i.useState)([]),n=Object(a.a)(t,2),s=n[0],r=n[1],o=Object(i.useState)([]),l=Object(a.a)(o,2),j=l[0],u=l[1],h=Object(i.useState)(""),b=Object(a.a)(h,2),d=b[0],f=b[1],O=Object(i.useState)(!1),g=Object(a.a)(O,2),m=g[0],x=g[1];function w(e){fetch("/api/search?q=".concat(e)).then((function(e){return e.json()})).then((function(e){x(!0),u(e.statuses),f("")})).catch((function(e){return console.log(e)}))}return Object(i.useEffect)((function(){fetch("/api/trends").then((function(e){return e.json()})).then((function(e){e.length>0&&(console.log(e),r(e))})).catch((function(e){return console.error(e)}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("form",{className:"search-input-form",onSubmit:function(e){e.preventDefault(),fetch("/api/search?q=".concat(d)).then((function(e){return e.json()})).then((function(e){x(!0),u(e.statuses),f("")})).catch((function(e){return console.log(e)}))},children:[Object(c.jsx)("span",{className:"material-icons search-icon",children:"search"}),Object(c.jsx)("input",{type:"text",className:"search-input",placeholder:"Search Twitter",onChange:function(e){e.preventDefault();var t=e.target.value;f(t)},value:d})]}),m?j.map((function(e){return Object(c.jsx)("li",{children:e.text},e.id)})):Object(c.jsx)(p,{tweets:s,search:w})]})}function v(e){var t=Object(i.useState)(""),n=Object(a.a)(t,2),s=(n[0],n[1],Object(i.useState)([])),r=Object(a.a)(s,2),o=r[0],l=r[1],j=e.setIsLoggedIn;function u(){fetch("/api/home-timeline").then((function(e){return e.json()})).then((function(e){if(e.errors)return alert(e.errors[0].message),void console.error(e.errors[0].message);e&&l(e)})).catch((function(e){alert("There was the following network error ".concat(e)),console.error(e)}))}return Object(i.useEffect)((function(){u()}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(g,{logout:function(){return j(!1)},getTimelineTweets:u}),Object(c.jsx)("h1",{children:"Home"}),Object(c.jsx)("ul",{children:o.map((function(e){return Object(c.jsx)("li",{children:e.text},e.id)}))}),Object(c.jsx)(w,{})]})}function k(e){var t=e.details,n=e.onEditButtonClick;return t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Profile"}),Object(c.jsx)("img",{src:t.profile_banner_url,alt:"profile-banner"}),Object(c.jsx)("img",{src:t.profile_image_url,alt:"profile-pic"}),Object(c.jsx)("button",{onClick:n,children:"Edit profile"}),Object(c.jsx)("p",{children:Object(c.jsx)("strong",{children:t.name})}),Object(c.jsx)("p",{children:t.screen_name}),Object(c.jsx)("p",{children:t.description}),Object(c.jsx)("p",{children:t.created_at}),Object(c.jsxs)("p",{children:["Following ",t.friends_count]}),Object(c.jsxs)("p",{children:["Followers ",t.followers_count]}),Object(c.jsx)("ul",{})]}):Object(c.jsx)("p",{children:"Loading..."})}function N(e){var t=e.setIsLoggedIn,n=Object(i.useState)(null),s=Object(a.a)(n,2),r=s[0],o=s[1],l=Object(i.useState)(!1),j=Object(a.a)(l,2),u=j[0],h=j[1],b=Object(i.useState)(""),d=Object(a.a)(b,2),O=d[0],m=d[1],x=Object(i.useState)(""),p=Object(a.a)(x,2),v=p[0],N=p[1],S=Object(i.useState)(""),T=Object(a.a)(S,2),C=T[0],_=T[1],F=Object(i.useState)(null),L=Object(a.a)(F,2),y=L[0],I=L[1],E=Object(i.useState)([]),P=Object(a.a)(E,2),D=P[0],B=P[1];function H(){fetch("api/user-timeline").then((function(e){return e.json()})).then((function(e){B(e)})).catch((function(e){console.error(e)}))}return Object(i.useEffect)((function(){fetch("api/profile-details").then((function(e){return e.json()})).then((function(e){m(e.name),N(e.description),_(e.profile_image_url),o(e)})).catch((function(e){alert("There was the following network error ".concat(e)),console.error(e)}))}),[]),Object(i.useEffect)((function(){H()}),[]),Object(i.useEffect)((function(){console.log(y)}),[y]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(f,{show:u,close:function(e){var t="modal-backdrop"===e.target.id,n="modal-close-button"===e.target.id;(t||n)&&h(!1)},children:[Object(c.jsx)("h1",{children:"Edit Profile"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/profile-update?name=".concat(O,"&description=").concat(v),{method:"POST"}).then((function(e){return e.json()})).then((function(e){e&&(m(e.name),N(e.description),o(e))})).catch((function(e){alert("There was the following network error ".concat(e)),console.error(e)})).finally((function(){return h(!1)}))},children:[Object(c.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0].name;I(t)}}),Object(c.jsx)("br",{}),Object(c.jsx)("img",{src:C,alt:""}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{onChange:function(e){var t=e.target.value;m(t)},value:O}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{rows:"4",cols:"50",onChange:function(e){var t=e.target.value;N(t)},value:v}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"submit",value:"Save"})]})]}),Object(c.jsx)(g,{logout:function(){return t(!1)},getTweets:H}),Object(c.jsx)(k,{details:r,onEditButtonClick:function(){h(!0)}}),D.map((function(e){return Object(c.jsx)("li",{children:e.text},e.id)})),Object(c.jsx)(w,{})]})}function S(e){var t=e.children,n=e.isLoggedIn;return Object(c.jsx)(j.b,{render:function(e){var i=e.location;return n?t:Object(c.jsx)(j.a,{to:{pathname:"/",state:{from:i}}})}})}function T(e){var t=e.login,n=Object(j.h)(),s=Object(j.g)(),r=new URLSearchParams(n.search),o=r.get("oauth_token"),a=r.get("oauth_verifier");return Object(i.useEffect)((function(){fetch("/api/access-token?oauth_token=".concat(o,"&oauth_verifier=").concat(a)).then((function(e){return e.json()})).then((function(e){e&&0===Object.keys(e).length&&(alert("Something went wrong. Do not press the reload putting while on this page"),console.error("Response object is empty. This means that the user reloaded the get-credentials page \n        or something went wrong with the signing process"),console.log("response object",e),s.push("/"))})).then((function(){t(!0),s.push("/home")})).catch((function(e){return console.log("Network error: ".concat(e))}))}),[o,a]),Object(c.jsx)("h1",{children:"Loading your profile..."})}n(37);var C=function(){var e=Object(i.useState)(!0),t=Object(a.a)(e,2),n=t[0],s=t[1];return Object(c.jsx)(l.a,{children:Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{exact:!0,path:"/",children:Object(c.jsx)(d,{login:s})}),Object(c.jsx)(j.b,{exact:!0,path:"/get-credentials",children:Object(c.jsx)(T,{login:s})}),Object(c.jsx)(S,{exact:!0,path:"/home",isLoggedIn:n,children:Object(c.jsx)(v,{setIsLoggedIn:s})}),Object(c.jsx)(S,{exact:!0,path:"/profile",isLoggedIn:n,children:Object(c.jsx)(N,{setIsLoggedIn:s})})]})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),s(e),r(e)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root")),_()}},[[38,1,2]]]);
//# sourceMappingURL=main.d3bfe639.chunk.js.map