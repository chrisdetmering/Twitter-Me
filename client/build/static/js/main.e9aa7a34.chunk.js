(this["webpackJsonptwitter-me"]=this["webpackJsonptwitter-me"]||[]).push([[0],{23:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),r=n.n(o),i=n(16),s=n.n(i),j=(n(23),n(9)),h=n(7),a=n(2);function u(e){var t=e.login,n=Object(a.g)();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:function(){t(!0),n.push("/home")},children:"Login"}),Object(c.jsx)("button",{onClick:function(){fetch("/api/sign-in-with-twitter").then((function(e){return e.text()})).then((function(e){window.location=e}))},children:"Sign in with Twitter"})]})}n(29);function l(e){return Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)(h.b,{to:"/home",activeClassName:"active",children:"home"})}),Object(c.jsx)("li",{children:Object(c.jsx)(h.b,{to:"/profile",activeClassName:"active",children:"profile"})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{children:"Tweet"})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:e.logout,children:"Logout"})})]})}function b(e){var t=Object(o.useState)(""),n=Object(j.a)(t,2),r=n[0],i=n[1],s=Object(o.useState)([]),h=Object(j.a)(s,2),a=h[0],u=h[1],b=Object(o.useState)([]),g=Object(j.a)(b,2),O=(g[0],g[1],e.setIsLoggedIn);return Object(o.useEffect)((function(){fetch("/api/profile-picture").then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.error(e)}))}),[]),Object(o.useEffect)((function(){fetch("/api/home-timeline").then((function(e){return e.json()})).then((function(e){e&&u(e)})).catch((function(e){return console.error(e)}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(l,{logout:function(){return O(!1)}}),Object(c.jsx)("h1",{children:"Home"}),Object(c.jsx)("img",{src:r,alt:"profile-pic"}),Object(c.jsx)("p",{children:"What's Happening?"}),Object(c.jsx)("button",{children:"Tweet"}),Object(c.jsx)("ul",{children:a.map((function(e){return Object(c.jsx)("li",{children:e.text},e.id)}))}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",placeholder:"search twitter..."}),Object(c.jsx)("ul",{})]})}function g(e){var t=e.setIsLoggedIn;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(l,{}),Object(c.jsx)("h1",{children:"Profile"}),Object(c.jsx)("input",{type:"text",placeholder:"search twitter..."}),Object(c.jsx)("button",{onClick:function(){return t(!1)},children:"Logout"})]})}function O(e){var t=e.children,n=e.isLoggedIn;return Object(c.jsx)(a.b,{render:function(e){var o=e.location;return n?t:Object(c.jsx)(a.a,{to:{pathname:"/",state:{from:o}}})}})}function f(e){var t=Object(a.h)(),n=Object(a.g)(),r=new URLSearchParams(t.search),i=r.get("oauth_token"),s=r.get("oauth_verifier");return Object(o.useEffect)((function(){fetch("/api/access-token?oauth_token=".concat(i,"&oauth_verifier=").concat(s)).then((function(e){return e.json()})).then((function(e){for(var t in e&&0===Object.keys(e).length&&(alert("Something went wrong. Do not press the reload putting while on this page"),console.error("Response object is empty. This means that the user reloaded the get-credentials page \n        or something went wrong with the signing process"),console.log("response object",e),n.push("/")),e)localStorage.setItem(t,e[t])})).then((function(){e.login(!0),n.push("/home")})).catch((function(e){return console.log("Network error: ".concat(e))}))}),[i,s]),Object(c.jsx)("h1",{children:"Loading your profile..."})}n(30);var d=function(){var e=Object(o.useState)((function(){return Boolean(localStorage.getItem("screen_name"))})),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(c.jsx)(h.a,{children:Object(c.jsxs)(a.d,{children:[Object(c.jsx)(a.b,{exact:!0,path:"/",children:Object(c.jsx)(u,{login:r})}),Object(c.jsx)(a.b,{exact:!0,path:"/get-credentials",children:Object(c.jsx)(f,{login:r})}),Object(c.jsx)(O,{exact:!0,path:"/home",isLoggedIn:n,children:Object(c.jsx)(b,{setIsLoggedIn:r})}),Object(c.jsx)(O,{exact:!0,path:"/profile",isLoggedIn:n,children:Object(c.jsx)(g,{setIsLoggedIn:r})})]})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),r(e),i(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(d,{})}),document.getElementById("root")),x()}},[[31,1,2]]]);
//# sourceMappingURL=main.e9aa7a34.chunk.js.map