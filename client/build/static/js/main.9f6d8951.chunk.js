(this["webpackJsonptwitter-me"]=this["webpackJsonptwitter-me"]||[]).push([[0],Array(23).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),i=n(16),r=n.n(i),o=(n(23),n(2)),l=n(8),j=n(3);n(24),n(25);function h(e){var t=e.classes,n=e.children,s=e.click;return Object(c.jsx)("button",{className:"button ".concat(t),onClick:s,children:n})}var u=n.p+"static/media/TwitterLogoWhite.27cda7bd.png",d=n.p+"static/media/TwitterLogoBlue.f963dcac.png";function b(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("img",{src:u,alt:"",className:"twitter-logo-main"}),Object(c.jsxs)("div",{className:"login-container",children:[Object(c.jsx)("div",{className:"twitter-login-image-container",children:Object(c.jsx)("img",{src:"https://abs.twimg.com/sticky/illustrations/lohp_en_1302x955.png",alt:"",className:"twitter-login-image"})}),Object(c.jsx)("div",{className:"twitter-login-welcome",children:Object(c.jsxs)("div",{className:"login",children:[Object(c.jsx)("img",{src:d,alt:"",className:"twitter-logo-small"}),Object(c.jsx)("h1",{className:"twitter-login-header",children:"Happening Now"}),Object(c.jsx)("h4",{children:"Join Twitter Today."}),Object(c.jsx)("p",{className:"sign-up-notice",children:"*You will be taken to the actual Twitter website to make your account. You will then have to navigate back to this site to sign in with Twitter.*"}),Object(c.jsx)(h,{classes:"large dark",click:function(){window.open("https://mobile.twitter.com/i/flow/signup")},children:"Sign Up"}),Object(c.jsx)(h,{classes:"large light",click:function(){fetch("/api/sign-in-with-twitter").then((function(e){return e.text()})).then((function(e){window.location=e}))},children:"Sign in with Twitter"})]})})]})]})}n(26),n(27),n(28);function m(e){e.classes;return e.show?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"modal",id:"modal-backdrop",onClick:e.close,children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("span",{className:"material-icons close-button",id:"modal-close-button",onClick:e.close,children:"clear"}),e.children]})})}):null}n(29);function O(e){var t=e.getTweets,n=e.showModal,a=Object(s.useState)(""),i=Object(o.a)(a,2),r=i[0],l=i[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"new-tweet-container",children:[Object(c.jsx)("textarea",{className:"new-tweet-input",maxLength:"140",placeholder:"what's happening?",onChange:function(e){e.preventDefault();var t=e.target.value;l(t)},value:r}),Object(c.jsx)("div",{className:"new-tweet-button-container",children:Object(c.jsx)("div",{className:"button-container",children:Object(c.jsx)(h,{classes:"small light",click:function(){fetch("/api/status/update?status=".concat(r)).then((function(e){e.ok&&(t(),l(""))})).catch((function(e){alert("There was the following network error ".concat(e)),console.error(e)})).finally((function(){n&&n(!1)}))},children:"Tweet"})})})]})})}function f(e){var t=e.getTweets,n=Object(s.useState)(!1),a=Object(o.a)(n,2),i=a[0],r=a[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m,{classes:"medium",show:i,close:function(e){var t="modal-backdrop"===e.target.id,n="modal-close-button"===e.target.id;(t||n)&&r(!1)},children:Object(c.jsx)(O,{getTweets:t,showModal:r})}),Object(c.jsxs)("ul",{className:"nav-bar-items",children:[Object(c.jsx)("li",{className:"nav-bar-item logo-container",children:Object(c.jsx)(l.b,{to:"/home",children:Object(c.jsx)("img",{src:d,alt:"logo",className:"logo"})})}),Object(c.jsx)("li",{className:"nav-bar-item",children:Object(c.jsxs)(l.c,{to:"/home",activeClassName:"active",className:"link",children:[Object(c.jsx)("span",{className:"material-icons nav-icon",children:"home"}),Object(c.jsx)("p",{className:"nav-text",children:"Home"})]})}),Object(c.jsx)("li",{className:"nav-bar-item",children:Object(c.jsxs)(l.c,{to:"/profile",activeClassName:"active",className:"link",children:[Object(c.jsx)("span",{className:"material-icons nav-icon",children:"perm_identity"}),Object(c.jsx)("p",{className:"nav-text",children:"Profile"})]})}),Object(c.jsx)("li",{children:Object(c.jsx)(h,{classes:"medium dark",click:function(){r(!0)},children:"Tweet"})}),Object(c.jsx)("li",{children:Object(c.jsx)(h,{classes:"medium light",click:e.logout,children:"Logout"})})]})]})}n(35),n(36);var x=n(46);n(37);function g(e){var t=e.tweet,n=e.search,s=(t.tweet_volume/1e3).toFixed(1);return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("li",{className:"trending-tweet",onClick:function(){n(t.name.replace("#",""))},children:[Object(c.jsx)("p",{className:"trending-info",children:"Trending - USA"}),Object(c.jsx)("p",{className:"trending-tweet-text",children:t.name}),Object(c.jsxs)("p",{className:"trending-info",children:[s,"k Tweets"]})]})})}n(38);function p(e){var t=e.klass,n="loader";return t&&(n+=" ".concat(t)),Object(c.jsx)("div",{className:"loader-container",children:Object(c.jsx)("div",{className:"".concat(n)})})}n(39);function w(e){return Object(c.jsxs)("div",{className:"error-message",children:[Object(c.jsx)("p",{children:e.messageOne}),Object(c.jsx)("p",{children:e.messageTwo})]})}function v(e){var t=e.tweets,n=e.search,s=e.loading,a=t.map((function(e){return Object(c.jsx)(g,{tweet:e,search:n},Object(x.a)())}));return Object(c.jsxs)("ul",{className:"trending-tweets-list",children:[Object(c.jsx)("li",{className:"trending-top",children:Object(c.jsx)("h3",{children:"What's happening"})}),s?Object(c.jsx)(p,{}):a,!s&&Object(c.jsx)("li",{className:"trending-bottom"})]})}function N(e){var t=Object(s.useState)([]),n=Object(o.a)(t,2),a=n[0],i=n[1],r=Object(s.useState)(""),l=Object(o.a)(r,2),j=l[0],h=l[1],u=Object(s.useState)(!0),d=Object(o.a)(u,2),b=d[0],m=d[1],O=Object(s.useState)(!1),f=Object(o.a)(O,2),x=f[0],g=f[1],p=e.setTweets,N=e.setLoading;return Object(s.useEffect)((function(){fetch("/api/trends").then((function(e){return e.json()})).then((function(e){e.length>0?(i(e),m(!1)):g(!0)})).catch((function(e){g(!0)}))}),[]),x?Object(c.jsx)(w,{messageOne:"Something went wrong :("}):Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"search-container",children:[Object(c.jsx)("div",{className:"search-input-container",children:Object(c.jsxs)("form",{className:"search-input-form",onSubmit:function(e){N(!0),e.preventDefault(),fetch("/api/search?q=".concat(j)).then((function(e){return e.json()})).then((function(e){p(e.statuses),N(!1),h("")})).catch((function(e){g(!0)}))},children:[Object(c.jsx)("span",{className:"material-icons search-icon",children:"search"}),Object(c.jsx)("input",{type:"text",className:"search-input",placeholder:"Search Twitter",maxLength:"15",onChange:function(e){e.preventDefault();var t=e.target.value;h(t)},value:j})]})}),Object(c.jsx)(v,{loading:b,tweets:a,search:function(e){N(!0),fetch("/api/search?q=".concat(e)).then((function(e){return e.json()})).then((function(e){p(e.statuses),N(!1),h("")})).catch((function(e){g(!0)}))}})]})})}n(40);function k(e){var t=e.tweet,n=Object(s.useState)(""),a=Object(o.a)(n,2),i=a[0],r=a[1],l=Object(s.useState)(!1),j=Object(o.a)(l,2),h=j[0],u=j[1],d=Object(s.useState)(!1),b=Object(o.a)(d,2),m=b[0],O=b[1],f=t.user,x=t.created_at,g=t.text,v=t.retweet_count,N=t.favorite_count;return Object(s.useEffect)((function(){u(!0),fetch("/api/users/profile-picture?screen_name=".concat(f.screen_name)).then((function(e){return e.json()})).then((function(e){u(!1),r(e)})).catch((function(e){u(!1),O(!0)}))}),[f.screen_name]),h?Object(c.jsx)(p,{}):m?Object(c.jsx)(w,{messageOne:"You have used this endpoint too much :(.",messageTwo:"Logout and come back in 10 minutes"}):Object(c.jsxs)("li",{className:"tweet-container",children:[Object(c.jsx)("div",{className:"user-profile-image",children:Object(c.jsx)("img",{src:i,alt:"",className:"profile-image"})}),Object(c.jsxs)("div",{className:"tweet-content",children:[Object(c.jsxs)("p",{className:"user-name",children:[f.name,Object(c.jsxs)("span",{className:"user-user_name",children:["@",f.screen_name," ",function(){var e=new Date(x),t=Math.floor((Date.now()-e.getTime())/36e5);return 0===t?Math.floor((Date.now()-e.getTime())/6e4)+"min":t+"h"}()]})]}),Object(c.jsx)("p",{children:g}),Object(c.jsxs)("div",{className:"tweet-info",children:[Object(c.jsxs)("p",{className:"retweets-container",children:[Object(c.jsx)("span",{className:"material-icons icon retweets",children:"repeat"}),v]}),Object(c.jsxs)("p",{className:"likes-container",children:[Object(c.jsx)("span",{className:"material-icons icon likes",children:"favorite_border"}),N]})]})]})]})}function T(e){var t=e.tweets;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("ul",{style:{display:"inline-block",width:"600px",padding:"0"},children:t.map((function(e){return Object(c.jsx)(k,{tweet:e},e.id)}))})})}function S(e){var t=Object(s.useState)([]),n=Object(o.a)(t,2),a=n[0],i=n[1],r=Object(s.useState)(!0),l=Object(o.a)(r,2),j=l[0],h=l[1],u=Object(s.useState)(!1),d=Object(o.a)(u,2),b=d[0],m=d[1],x=e.setIsLoggedIn;function g(){h(!0),fetch("/api/home-timeline").then((function(e){return e.json()})).then((function(e){e.errors?(alert("There was the following error ".concat(e.errors[0].message)),console.error(e.errors[0].message),m(!0)):i(e)})).catch((function(e){alert("There was the following network error ".concat(e)),m(!0),console.error(e)})).finally((function(){h(!1)}))}return Object(s.useEffect)((function(){g()}),[]),b?Object(c.jsx)(w,{messageOne:"Something went wrong :("}):Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"home-container",children:[Object(c.jsx)("div",{className:"home-side-nav-container",children:Object(c.jsx)(f,{logout:function(){return x(!1)},getTimelineTweets:g})}),Object(c.jsxs)("div",{className:"home-header-container",children:[Object(c.jsx)("h1",{className:"home-header",children:"Home"}),Object(c.jsx)(O,{getTweets:g}),j?Object(c.jsx)(p,{}):Object(c.jsx)(T,{tweets:a})]}),Object(c.jsx)("div",{className:"home-search-container",children:Object(c.jsx)(N,{setTweets:i,setLoading:h})})]})})}n(41),n(42);function _(e){var t=e.details,n=e.onEditButtonClick;if(!t)return Object(c.jsx)("div",{className:"details-spinner-container",children:Object(c.jsx)(p,{})});var s,a=function(){var e=t.profile_image_url.split("_"),n=e.pop();return e.join("_")+"."+n.split(".").pop()}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"details-container",children:[Object(c.jsx)("img",{className:"banner",src:t.profile_banner_url,alt:"profile-banner"}),Object(c.jsx)("img",{className:"profile-picture",src:a,alt:"profile-pic"}),Object(c.jsx)("div",{className:"edit-button-container",children:Object(c.jsx)(h,{classes:"small light",click:n,children:"Edit profile"})}),Object(c.jsxs)("div",{className:"profile-info-container",children:[Object(c.jsx)("h3",{children:t.name}),Object(c.jsxs)("p",{className:"screen-name",children:["@",t.screen_name]}),Object(c.jsx)("p",{className:"description",children:t.description}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"material-icons icon",children:"date_range"})," Joined ",(s=t.created_at,new Date(s).toLocaleDateString())]}),Object(c.jsxs)("div",{className:"count-container",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"count",children:t.friends_count}),Object(c.jsx)("span",{className:"text",children:"Following"})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"count",children:t.followers_count}),Object(c.jsx)("span",{className:"text",children:"Followers"})]})]})]})]})})}function L(e){var t=e.setIsLoggedIn,n=Object(s.useState)(null),a=Object(o.a)(n,2),i=a[0],r=a[1],l=Object(s.useState)(!1),j=Object(o.a)(l,2),u=j[0],d=j[1],b=Object(s.useState)(""),O=Object(o.a)(b,2),x=O[0],g=O[1],p=Object(s.useState)(""),v=Object(o.a)(p,2),k=v[0],S=v[1],L=Object(s.useState)([]),y=Object(o.a)(L,2),F=y[0],C=y[1],I=Object(s.useState)(!1),D=Object(o.a)(I,2),E=D[0],P=D[1];function B(){fetch("api/user-timeline").then((function(e){return e.json()})).then((function(e){C(e)})).catch((function(e){alert("There was the following network error ".concat(e)),P(!0),console.error(e)}))}return Object(s.useEffect)((function(){fetch("api/profile-details").then((function(e){return e.json()})).then((function(e){g(e.name),S(e.description),r(e)})).catch((function(e){alert("There was the following network error ".concat(e)),P(!0),console.error(e)}))}),[]),Object(s.useEffect)((function(){B()}),[]),E?Object(c.jsx)(w,{messageOne:"Something went wrong :("}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(m,{show:u,close:function(e){var t="modal-backdrop"===e.target.id,n="modal-close-button"===e.target.id;(t||n)&&d(!1)},children:[Object(c.jsx)("h1",{children:"Edit Profile"}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{className:"edit-name-textarea",maxLength:"50",onChange:function(e){var t=e.target.value;g(t)},value:x}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{className:"edit-description-textarea",rows:"4",cols:"50",maxLength:"160",onChange:function(e){var t=e.target.value;S(t)},value:k}),Object(c.jsx)("br",{}),Object(c.jsx)(h,{classes:"small dark",click:function(e){e.preventDefault(),fetch("/api/profile-update?name=".concat(x,"&description=").concat(k),{method:"POST"}).then((function(e){return e.json()})).then((function(e){e&&(g(e.name),S(e.description),r(e))})).catch((function(e){alert("There was the following network error ".concat(e)),P(!0),console.error(e)})).finally((function(){return d(!1)}))},children:"Save"})]}),Object(c.jsxs)("div",{className:"profile-container",children:[Object(c.jsx)("div",{className:"profile-side-nav-container",children:Object(c.jsx)(f,{logout:function(){return t(!1)},getTweets:B})}),Object(c.jsxs)("div",{className:"profile-details-container",children:[Object(c.jsx)(_,{details:i,onEditButtonClick:function(){d(!0)}}),Object(c.jsx)(T,{tweets:F})]}),Object(c.jsx)("div",{className:"profile-search-container",children:Object(c.jsx)(N,{})})]})]})}function y(e){var t=e.children,n=e.isLoggedIn;return Object(c.jsx)(j.b,{render:function(e){var s=e.location;return n?t:Object(c.jsx)(j.a,{to:{pathname:"/",state:{from:s}}})}})}function F(e){var t=e.login,n=Object(j.h)(),a=Object(j.g)(),i=new URLSearchParams(n.search),r=i.get("oauth_token"),o=i.get("oauth_verifier");return Object(s.useEffect)((function(){fetch("/api/access-token?oauth_token=".concat(r,"&oauth_verifier=").concat(o)).then((function(e){return e.json()})).then((function(e){e&&0===Object.keys(e).length&&(alert("Something went wrong. Do not press the reload putting while on this page"),console.error("Response object is empty. This means that the user reloaded the get-credentials page \n        or something went wrong with the signing process"),console.log("response object",e),a.push("/"))})).then((function(){t(!0),a.push("/home")})).catch((function(e){return console.log("Network error: ".concat(e))}))}),[r,o]),Object(c.jsx)("div",{style:{height:"100vh",border:"1px solid black",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(c.jsx)(p,{klass:"large-spinner"})})}n(43);var C=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(c.jsx)(l.a,{children:Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{exact:!0,path:"/",children:Object(c.jsx)(b,{login:a})}),Object(c.jsx)(j.b,{exact:!0,path:"/get-credentials",children:Object(c.jsx)(F,{login:a})}),Object(c.jsx)(y,{exact:!0,path:"/home",isLoggedIn:n,children:Object(c.jsx)(S,{setIsLoggedIn:a})}),Object(c.jsx)(y,{exact:!0,path:"/profile",isLoggedIn:n,children:Object(c.jsx)(L,{setIsLoggedIn:a})})]})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root")),I()}]),[[44,1,2]]]);
//# sourceMappingURL=main.9f6d8951.chunk.js.map