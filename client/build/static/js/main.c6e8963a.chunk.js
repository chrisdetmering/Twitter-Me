(this["webpackJsonptwitter-me"]=this["webpackJsonptwitter-me"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),i=n.n(o),r=n(16),s=n.n(r),a=(n(23),n(2)),l=n(8),j=n(3),u=(n(24),n.p+"static/media/TwitterLogoWhite.27cda7bd.png"),h=n.p+"static/media/TwitterLogoBlue.f963dcac.png";function b(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("img",{src:u,className:"twitter-logo-main"}),Object(c.jsxs)("div",{className:"login-container",children:[Object(c.jsx)("div",{className:"twitter-login-image-container",children:Object(c.jsx)("img",{src:"https://abs.twimg.com/sticky/illustrations/lohp_en_1302x955.png",className:"twitter-login-image"})}),Object(c.jsx)("div",{className:"twitter-login-welcome",children:Object(c.jsxs)("div",{className:"login",children:[Object(c.jsx)("img",{src:h,className:"twitter-logo-small"}),Object(c.jsx)("h1",{className:"twitter-login-header",children:"Happening Now"}),Object(c.jsx)("h4",{children:"Join Twitter Today."}),Object(c.jsx)("p",{className:"sign-up-notice",children:"*You will be taken to the actual Twitter website to make your account. You will then have to navigate back to this site to sign in with Twitter.*"}),Object(c.jsx)("button",{className:"sign-up-button",onClick:function(){window.open("https://mobile.twitter.com/i/flow/signup")},children:"Sign Up"}),Object(c.jsx)("button",{className:"login-button",onClick:function(){fetch("/api/sign-in-with-twitter").then((function(e){return e.text()})).then((function(e){window.location=e}))},children:"Sign in with Twitter"})]})})]})]})}n(25);function d(e){return e.show?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{onClick:e.close,id:"modal-backdrop",className:"modal",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("button",{onClick:e.close,id:"modal-close-button",children:"Close"}),e.children]})})}):null}n(26);function f(e){var t=e.getTweets,n=e.showModal;console.log(n);var i=Object(o.useState)(""),r=Object(a.a)(i,2),s=r[0],l=r[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{placeholder:"what's happening?",onChange:function(e){e.preventDefault();var t=e.target.value;l(t)},value:s}),Object(c.jsx)("button",{onClick:function(){fetch("/api/status/update?status=".concat(s)).then((function(e){e.ok&&(t(),l(""))})).catch((function(e){alert("There was the following network error ".concat(e)),console.error(e)})).finally((function(){return n(!1)}))},children:"Tweet"})]})}n(27);function O(e){var t=e.getTweets,n=Object(o.useState)(!1),i=Object(a.a)(n,2),r=i[0],s=i[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(d,{show:r,close:function(e){var t="modal-backdrop"===e.target.id,n="modal-close-button"===e.target.id;(t||n)&&s(!1)},children:Object(c.jsx)(f,{getTweets:t,showModal:s})}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{to:"/home",activeClassName:"active",children:"home"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.b,{to:"/profile",activeClassName:"active",children:"profile"})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:function(){s(!0)},children:"Tweet"})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:e.logout,children:"Logout"})})]})]})}function g(e){var t=Object(o.useState)([]),n=Object(a.a)(t,2),i=n[0],r=n[1],s=Object(o.useState)([]),l=Object(a.a)(s,2),j=l[0],u=l[1],h=Object(o.useState)(""),b=Object(a.a)(h,2),d=b[0],f=b[1],O=Object(o.useState)(!1),g=Object(a.a)(O,2),x=g[0],p=g[1];return Object(o.useEffect)((function(){fetch("/api/trends").then((function(e){return e.json()})).then((function(e){e.length>0&&r(e[0].trends)})).catch((function(e){return console.error(e)}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",placeholder:"search twitter...",onChange:function(e){e.preventDefault();var t=e.target.value;f(t)},value:d}),Object(c.jsx)("button",{onClick:function(){fetch("/api/search?q=".concat(d)).then((function(e){return e.json()})).then((function(e){p(!0),u(e.statuses),f("")})).catch((function(e){return console.log(e)}))},children:"Search"}),Object(c.jsx)("ul",{children:x?j.map((function(e){return Object(c.jsx)("li",{children:e.text},e.id)})):i.map((function(e,t){return Object(c.jsx)("li",{children:e.name},t)}))})]})}function x(e){var t=Object(o.useState)(""),n=Object(a.a)(t,2),i=(n[0],n[1],Object(o.useState)([])),r=Object(a.a)(i,2),s=r[0],l=r[1],j=e.setIsLoggedIn;function u(){fetch("/api/home-timeline").then((function(e){return e.json()})).then((function(e){if(e.errors)return alert(e.errors[0].message),void console.error(e.errors[0].message);e&&l(e)})).catch((function(e){alert("There was the following network error ".concat(e)),console.error(e)}))}return Object(o.useEffect)((function(){u()}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(O,{logout:function(){return j(!1)},getTimelineTweets:u}),Object(c.jsx)("h1",{children:"Home"}),Object(c.jsx)("ul",{children:s.map((function(e){return Object(c.jsx)("li",{children:e.text},e.id)}))}),Object(c.jsx)(g,{})]})}function p(e){var t=e.details,n=e.onEditButtonClick;return t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Profile"}),Object(c.jsx)("img",{src:t.profile_banner_url,alt:"profile-banner"}),Object(c.jsx)("img",{src:t.profile_image_url,alt:"profile-pic"}),Object(c.jsx)("button",{onClick:n,children:"Edit profile"}),Object(c.jsx)("p",{children:Object(c.jsx)("strong",{children:t.name})}),Object(c.jsx)("p",{children:t.screen_name}),Object(c.jsx)("p",{children:t.description}),Object(c.jsx)("p",{children:t.created_at}),Object(c.jsxs)("p",{children:["Following ",t.friends_count]}),Object(c.jsxs)("p",{children:["Followers ",t.followers_count]}),Object(c.jsx)("ul",{})]}):Object(c.jsx)("p",{children:"Loading..."})}function m(e){var t=e.setIsLoggedIn,n=Object(o.useState)(null),i=Object(a.a)(n,2),r=i[0],s=i[1],l=Object(o.useState)(!1),j=Object(a.a)(l,2),u=j[0],h=j[1],b=Object(o.useState)(""),f=Object(a.a)(b,2),x=f[0],m=f[1],w=Object(o.useState)(""),v=Object(a.a)(w,2),k=v[0],S=v[1],T=Object(o.useState)(""),C=Object(a.a)(T,2),N=C[0],_=C[1],L=Object(o.useState)(null),F=Object(a.a)(L,2),I=F[0],y=F[1],E=Object(o.useState)([]),B=Object(a.a)(E,2),P=B[0],D=B[1];function J(){fetch("api/user-timeline").then((function(e){return e.json()})).then((function(e){D(e)})).catch((function(e){console.error(e)}))}return Object(o.useEffect)((function(){fetch("api/profile-details").then((function(e){return e.json()})).then((function(e){m(e.name),S(e.description),_(e.profile_image_url),s(e)})).catch((function(e){alert("There was the following network error ".concat(e)),console.error(e)}))}),[]),Object(o.useEffect)((function(){J()}),[]),Object(o.useEffect)((function(){console.log(I)}),[I]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(d,{show:u,close:function(e){var t="modal-backdrop"===e.target.id,n="modal-close-button"===e.target.id;(t||n)&&h(!1)},children:[Object(c.jsx)("h1",{children:"Edit Profile"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/profile-update?name=".concat(x,"&description=").concat(k),{method:"POST"}).then((function(e){return e.json()})).then((function(e){e&&(m(e.name),S(e.description),s(e))})).catch((function(e){alert("There was the following network error ".concat(e)),console.error(e)})).finally((function(){return h(!1)}))},children:[Object(c.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0].name;y(t)}}),Object(c.jsx)("br",{}),Object(c.jsx)("img",{src:N,alt:""}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{onChange:function(e){var t=e.target.value;m(t)},value:x}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{rows:"4",cols:"50",onChange:function(e){var t=e.target.value;S(t)},value:k}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"submit",value:"Save"})]})]}),Object(c.jsx)(O,{logout:function(){return t(!1)},getTweets:J}),Object(c.jsx)(p,{details:r,onEditButtonClick:function(){h(!0)}}),P.map((function(e){return Object(c.jsx)("li",{children:e.text},e.id)})),Object(c.jsx)(g,{})]})}function w(e){var t=e.children,n=e.isLoggedIn;return Object(c.jsx)(j.b,{render:function(e){var o=e.location;return n?t:Object(c.jsx)(j.a,{to:{pathname:"/",state:{from:o}}})}})}function v(e){var t=e.login,n=Object(j.h)(),i=Object(j.g)(),r=new URLSearchParams(n.search),s=r.get("oauth_token"),a=r.get("oauth_verifier");return Object(o.useEffect)((function(){fetch("/api/access-token?oauth_token=".concat(s,"&oauth_verifier=").concat(a)).then((function(e){return e.json()})).then((function(e){e&&0===Object.keys(e).length&&(alert("Something went wrong. Do not press the reload putting while on this page"),console.error("Response object is empty. This means that the user reloaded the get-credentials page \n        or something went wrong with the signing process"),console.log("response object",e),i.push("/"))})).then((function(){t(!0),i.push("/home")})).catch((function(e){return console.log("Network error: ".concat(e))}))}),[s,a]),Object(c.jsx)("h1",{children:"Loading your profile..."})}n(33);var k=function(){var e=Object(o.useState)((function(){return Boolean(localStorage.getItem("screen_name"))})),t=Object(a.a)(e,2),n=t[0],i=t[1];return Object(c.jsx)(l.a,{children:Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{exact:!0,path:"/",children:Object(c.jsx)(b,{login:i})}),Object(c.jsx)(j.b,{exact:!0,path:"/get-credentials",children:Object(c.jsx)(v,{login:i})}),Object(c.jsx)(w,{exact:!0,path:"/home",isLoggedIn:n,children:Object(c.jsx)(x,{setIsLoggedIn:i})}),Object(c.jsx)(w,{exact:!0,path:"/profile",isLoggedIn:n,children:Object(c.jsx)(m,{setIsLoggedIn:i})})]})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),i(e),r(e)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(k,{})}),document.getElementById("root")),S()}},[[34,1,2]]]);
//# sourceMappingURL=main.c6e8963a.chunk.js.map